<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{SITE_NAME}</title>
    <base href="{BASE_URL}"/>
    <link rel="shortcut icon" type="image/ico" href="" />
    <meta name="HandheldFriendly" content="true">
    <style type="text/css">input{transition:all .30s ease-in-out;-webkit-transition:all .30s ease-in-out;-moz-transition:all .30s ease-in-out;border:1px solid #b9b9b9;border-radius:1px;border-top-color:#a0a0a0;outline:0}input:focus{box-shadow:0 0 5px rgba(81,203,238,1);-webkit-box-shadow:0 0 5px rgba(81,203,238,1);-moz-box-shadow:0 0 5px rgba(81,203,238,1);border:1px solid rgba(81,203,238,1)}.main{position:absolute;left:50%;top:20%;width:670px;margin-left:-335px}.main .title{text-align:center;margin:10px 0;font-size:3rem}.main .title .c1{color:#4285f4}.main .title .c2{color:#ea4335;font-size:2.5rem}.main .title .c3{color:#fbbc05;font-size:2.5rem}.main .title .c4{color:#4285f4}.main .title .c5{color:#ea4335;font-size:2.5rem}.main .title .c6{color:#fbbc05}.main .url{width:670px;height:36px;font-size:14px;text-indent:8px}.main .box p{text-align:center}#submit{background-image:-webkit-gradient(linear,left top,left bottom,from(#f5f5f5),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f5f5f5,#f1f1f1);-webkit-border-radius:2px;-webkit-user-select:none;background-color:#f2f2f2;border:1px solid #f2f2f2;border-radius:2px;color:#757575;cursor:default;font-family:arial,sans-serif;font-size:13px;font-weight:bold;margin:11px 4px;min-width:54px;padding:0 16px;text-align:center;height:36px;width:108px;line-height:27px}#submit:hover{background-image:-webkit-gradient(linear,left top,left bottom,from(#f8f8f8),to(#f1f1f1));background-image:-webkit-linear-gradient(top,#f8f8f8,#f1f1f1);-webkit-box-shadow:0 1px 1px rgba(0,0,0,0.1);background-color:#f8f8f8;background-image:linear-gradient(top,#f8f8f8,#f1f1f1);background-image:-o-linear-gradient(top,#f8f8f8,#f1f1f1);border:1px solid #c6c6c6;box-shadow:0 1px 1px rgba(0,0,0,0.1);color:#222;cursor:pointer}a:visited{color:#1a0dab}a{color:#1a0dab;text-decoration:none}a:hover{text-decoration:underline}</style>
</head>

<body>
    <div class="main">
        <div class="title">
            <span class="c c1">短</span><span class="c c2">网</span><span class="c c3">址</span><span class="c c4">服</span><span class="c c5">务</span>
        </div>
        <div class="box">
            <input name="url" class="url" id="url" type="text" placeholder="请填写原网址" required/>
            <p><input type="button" value="转换" id="submit"/></p>
            <p id="short_url">Example: <a href="{BASE_URL}0NTcwM" target="_blank">{BASE_URL}0NTcwM</a></p>
        </div>
    </div>
    <script src="//lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
    <script type="text/javascript">jQuery(function($){$("#submit").off().on('click',function(){var urlVal=$("#url").val();if(urlVal==''||urlVal==null){showTip('<b style="color: #f00">不能转换空链接</b>');return;}
            $.ajax({url:"/short/alias.json",data:{url:urlVal},dataType:"json",success:function(result){if(result.code==200&&result.data.error==0){var shortURL="{BASE_URL}"+result.data.alias;$("#short_url").show().html('短址为：<a href="'+shortURL+'" target="_blank">'+shortURL+'</a>');showTitleTip('网址已压缩');}else{if(result.data.alias!=undefined){var shortURL="{BASE_URL}"+result.data.alias;$("#short_url").show().html('<br/>短址为：<a href="'+shortURL+'" target="_blank">'+shortURL+'</a>');}
                if(result.data.message!=''){alert(result.data.message);}}},error:function(jqXHR,statusText){showTip('<b style="color: #f00">请求服务器出现错误</b>');console.log(statusText);}});});function showTitleTip(title){var old_title=$(".title").html();$(".title").html(title);setTimeout(function(){$(".title").html(old_title);},3000);}
            function showTip(title){var old_title=$("#short_url").html();$("#short_url").html(title);setTimeout(function(){$("#short_url").html(old_title);},3000);}});</script>
</body>
</html>